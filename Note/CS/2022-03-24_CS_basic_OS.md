# CS_basic : Operating System

기본적인 CS 지식을 복습하기 위해 정리한 글입니다. 

상세한 학습 내용은 [OS](./OS) 에도 담겨있습니다. 

>출처 
>
>[📖Tech Interview for developer : 신입 개발자 전공 지식 & 기술 면접 백과사전 ](https://gyoogle.dev/blog/)

## Operating System

### Intro

일반적으로 `하드웨어를 관리하고, 응용 프로그램과 하드웨어 사이에서 인터페이스 역할을 하며 시스템의 동작을 제어하는 시스템 소프트웨어`로 정의한다.

운영체제는 **시스템의 자원과 동작을 관리하는 소프트웨어**다.

출처의 글에선 크게 아래와 같이 분류하였다. 

###### 1. 프로세스 관리 

운영체제에서 작동하는 응용 프로그램을 관리하는 기능이다.

어떤 의미에서는 프로세서(CPU) 관리하는 것이라고 볼 수도 있다. 현재 CPU를 점유해야 할 프로세스를 결정하고, 실제로 CPU를 프로세스에 할당하며, 이 프로세스 간 공유 자원 접근과 통신 등을 관리하게 된다.

- 프로세스, 스레드
- 스케줄링
- 동기화
- IPC 통신

###### 2. 저장장치 관리 

1차 저장장치에 해당하는 메인 메모리와 2차 저장장치에 해당하는 하드디스크, NAND 등을 관리하는 기능이다.

- 메모리 관리 
- 가상 메모리
- 파일 시스템

###### 3. 네트워킹 

TCP/IP 기반의 인터넷에 연결하거나, 응용 프로그램이 네트워크를 사용하려면 **운영체제에서 네트워크 프로토콜을 지원**해야 한다. 현재 상용 OS들은 다양하고 많은 네트워크 프로토콜을 지원한다.

- TCP/IP
- 기타 프로토콜

###### 4. 사용자 관리 

운영체제는 각 계정을 관리할 수 있는 기능이 필요하다. 사용자 별로 프라이버시와 보안을 위해 개인 파일에 대해선 다른 사용자가 접근할 수 없도록 해야 한다. 이 밖에도 파일이나 시스템 자원에 접근 권한을 지정할 수 있도록 지원하는 것이 사용자 관리 기능이다.

- 계정 관리
- 접근권한 관리

###### 5. 디바이스 드라이버 

운영체제는 시스템의 자원, 하드웨어를 관리한다. 시스템에는 여러 하드웨어가 붙어있는데, 이들을 운영체제에서 인식하고 관리하게 만들어 응용 프로그램이 하드웨어를 사용할 수 있게 만들어야 한다.

따라서, 운영체제 안에 하드웨어를 추상화 해주는 계층이 필요하다. 이 계층이 바로 디바이스 드라이버라고 불린다. 

- 순차접근 장치
- 임의접근 장치
- 네트워크 장치

### 프로세스 & 스레드 

- 프로세스 
  - 프로그램을 메모리 상에서 실행중인 작업

- 스레드 
  - 프로세스 안에서 실행되는 여러 흐름 단위

###### 프로세스의 주소공간 할당 (독립적)

- **Code** : 코드 자체를 구성하는 메모리 영역(프로그램 명령)
- **Data** : 전역변수, 정적변수, 배열 등
  - 초기화 된 데이터는 data 영역에 저장
  - 초기화 되지 않은 데이터는 bss 영역에 저장
- **Heap** : 동적 할당 시 사용 (new(), malloc() 등)
- **Stack** : 지역변수, 매개변수, 리턴 값 (임시 메모리 영역)

###### 스레드의 주소공간 할당 

- Stack 만 독립적으로 할당 받으며, 나머지 영역은 공유한다. 

###### 멀티 프로세스 

- 여러 개의 CPU 를 사용하여 하나 이상의 프로세스들을 동시에 처리한다. 
- 메모리 침범 문제를 OS 차원에서 해결 가능하다. 
- 그러나 각각 독립된 메모리 영역을 가지고 있으므로, 작업량이 많을 수록 오버헤드가 발생한다. Context Switching 으로 인한 성능 저하

###### Context Switching 

- 프로세스의 상태 정보를 저장하고 복원하는 일련의 과정 

- 즉, 동작 중인 프로세스가 대기하면서 해당 프로세스의 상태를 보관하고, 대기하고 있던 다음 순번의 프로세스가 동작하면서 이전에 보관했던 프로세스 상태를 복구하는 과정을 말함

  → 프로세스는 각 독립된 메모리 영역을 할당받아 사용되므로, 캐시 메모리 초기화와 같은 무거운 작업이 진행되었을 때 오버헤드가 발생할 문제가 존재함

###### 멀티 스레드 

- 하나의 응용 프로그램에서 여러 스레드를 구성해 각 스레드가 하나의 작업을 처리하는 것

- 장점: 독립적인 프로세스에 비해 공유 메모리만큼의 시간, 자원 손실이 감소 전역 변수와 정적 변수에 대한 자료 공유 가능

- 단점: 안전성 문제. 하나의 스레드가 데이터 공간 망가뜨리면, 모든 스레드가 작동 불능 상태 (공유 메모리를 갖기 때문)

  

